{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{200:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"content\"},[t._m(0),t._v(\" \"),a(\"p\",[t._v(\"我们都知道，ajax可以实现无刷新页面获取数据，这无疑能极大地提高用户体验，但是它有一个弊端，就是通过ajax获取的内容，在页面刷新或者点击浏览器的前进和后退按钮，重新回到当前页面的时候，之前获取的内容索引丢失了，页面变回了初始状态。\")]),t._v(\" \"),t._m(1),t._v(\" \"),a(\"p\",[t._v(\"就例如下图的分页器，点击下一页通过ajax获取内容然后改变页面的内容，当我们按了很多次下一页按钮，定位到了某一个页面，但是只要页面一刷新，页面的内容又重新定位到第一页。\")]),t._v(\" \"),t._m(2),t._v(\" \"),t._m(3),t._v(\" \"),a(\"p\",[t._v(\"如果我们想要在当页面刷新后，页面定位还是在当前页，或者点击浏览器的前进或者后退按钮的 时候，前进到前一页或者后退到后一页。\")]),t._v(\" \"),t._m(4),t._v(\" \"),t._m(5),t._v(\" \"),t._m(6),t._v(\" \"),t._m(7),t._v(\" \"),t._m(8),t._v(\" \"),t._m(9),t._m(10),t._v(\" \"),t._m(11),t._m(12),t._v(\" \"),t._m(13),t._m(14),t._v(\" \"),a(\"p\",[t._v(\"这就是pushState、浏览器按钮与历史条目之间的联系，而且每次改变条目指针后，都会触发popstate事件。\")]),t._v(\" \"),t._m(15),t._v(\" \"),t._m(16),t._v(\" \"),t._m(17),t._m(18),t._v(\" \"),t._m(19),t._m(20),t._v(\" \"),t._m(21),a(\"p\",[a(\"a\",{attrs:{href:\"http://www.zhangxinxu.com/wordpress/2013/06/html5-history-api-pushstate-replacestate-ajax/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"参考文章\"),a(\"OutboundLink\")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"ajax\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ajax\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" ajax\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"ajax的弊端事例\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ajax的弊端事例\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" ajax的弊端事例\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[s(\"img\",{attrs:{src:\"http://note.youdao.com/yws/api/personal/file/4577909FE1C24D80B2C5FAD6ABD2F786?method=download&shareKey=8aab9f4fb9bd4678a6d3cd16b8ec280b\",alt:\"image\"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"我们想\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#我们想\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 我们想\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"主角登场\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#主角登场\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 主角登场\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"这时候，html5的新增的history-api主角《history-pushstate》和《history-replacestate》就应该登场了：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#这时候，html5的新增的history-api主角《history-pushstate》和《history-replacestate》就应该登场了：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 这时候，html5的新增的history API主角《history.pushState》和《history.replaceState》就应该登场了：\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ol\",[a(\"li\",[a(\"p\",[t._v(\"history.pushState(state,title,url)：无刷新改变当前页面的url，并创建新的历史条目推入history堆栈中。\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"history.replaceState(state,title,url)：操作类似于history.pushState()，不同之处在于replaceState()方法会修改当前历史记录条目而并非创建新的条目\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"state：一个与指定网址相关的状态对象，popstate事件触发时，该对象会传入回调函数。如果不需要这个对象，此处可以填null。\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"title：新页面的标题，但是所有浏览器目前都忽略这个值，因此这里可以填null。\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"url：新的网址，必须与当前页面处在同一个域，否则会因跨域弹出错误，浏览器的地址栏将显示这个网址。\")])])])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"popstate事件：当点击浏览器的前进或者后退按钮的时候触发。\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"为了更好地理解pushstate和前进后退按钮对历史条目的影响，下面用数组模拟历史条目栈：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#为了更好地理解pushstate和前进后退按钮对历史条目的影响，下面用数组模拟历史条目栈：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 为了更好地理解pushState和前进后退按钮对历史条目的影响，下面用数组模拟历史条目栈：\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",[s(\"li\",[this._v(\"当页面刚进入的时候，历史条目为空：\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{attrs:{class:\"token keyword\"}},[this._v(\"var\")]),this._v(\" historyStack\"),s(\"span\",{attrs:{class:\"token operator\"}},[this._v(\"=\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[this._v(\"[\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[this._v(\"]\")]),s(\"span\",{attrs:{class:\"token punctuation\"}},[this._v(\";\")]),this._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[this._v(\"当点击触发history.pushState(),向历史条目压入一个记录：\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"\\nhistoryStack\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"push\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'条目1'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"3\"}},[s(\"li\",[this._v(\"当我们多次触发history.pushState()后：\")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"historyState \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"条目\"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),t._v(\"，条目\"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"2\")]),t._v(\"，条目\"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"3\")]),t._v(\"，条目\"),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"4\"}},[s(\"li\",[s(\"p\",[this._v(\"最后一次触发后，url指针指向条目4，\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"当我们点击后退按钮时，指针变为指向条目3，当我们再次点击前进按钮时，指针指向变回指向条目4。\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"demo代码：-下面demo因为没有使用ajax与服务器交互，而是通过分页器的点击切换内容来模拟ajax的改变，这样可以直接使用这些代码进行本地测试\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#demo代码：-下面demo因为没有使用ajax与服务器交互，而是通过分页器的点击切换内容来模拟ajax的改变，这样可以直接使用这些代码进行本地测试\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" demo代码：(\"),s(\"strong\",[this._v(\"下面demo因为没有使用ajax与服务器交互，而是通过分页器的点击切换内容来模拟ajax的改变，这样可以直接使用这些代码进行本地测试\")]),this._v(\")\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"html：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#html：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" html：\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-html extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-html\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"ul\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"li\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"active_li\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"0\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"1\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"2\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"ul\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),a(\"span\",{attrs:{class:\"token attr-value\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"active_div\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t0000000\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t1111111\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t2222222\\n\\t\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token tag\"}},[a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"body\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"css：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#css：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" css：\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-css extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-css\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token selector\"}},[t._v(\"*\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"margin\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 0\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"padding\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 0\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token selector\"}},[t._v(\"li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"list-style\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" none\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"display\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" inline-block\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"border\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 1px solid #ccc\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"padding\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 5px 10px\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token selector\"}},[t._v(\"div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"height\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 200px\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"width\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 150px\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"border\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" 1px solid #ccc\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"display\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" none\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{attrs:{class:\"token selector\"}},[t._v(\".active_li\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"background-color\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" #aaa\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{attrs:{class:\"token selector\"}},[t._v(\".active_div\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),a(\"span\",{attrs:{class:\"token property\"}},[t._v(\"display\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" block\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"js：\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#js：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" js：\")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" $li\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"$\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'li'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" $div\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"$\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'div'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t$li\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"on\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'click'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"event\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" his\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"window\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"history\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" that\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"$\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" index\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"that\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"index\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\\n\\t\\t$li\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"removeClass\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'active_li'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\tthat\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addClass\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'active_li'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t\\t$div\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"removeClass\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'active_div'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"eq\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addClass\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'active_div'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"/*\\n\\t\\t\\t这里可以添加ajax();\\n\\t\\t*/\")]),t._v(\"\\n\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//检测是不是因为鼠标点击li触发\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"event \"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token regex\"}},[t._v(\"/\\\\d/\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"test\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"event\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"button\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\this\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"pushState\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'?index='\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\"index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\t\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//点击返回或者前进按钮触发\")]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHistoryState\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" locaHref\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"location\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"href\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" his\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"window\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"history\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//初始时url没有参数，就默认为index=0;\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"locaHref\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"indexOf\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"==\")]),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"-\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\this\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"replaceState\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'?index=0'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\t\\n\\t\\t\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//找到当前url中index的值\")]),t._v(\"\\n\\t\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" index\"),a(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"returnIndex\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"locaHref\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t\\t\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//触发指定li的点击事件\")]),t._v(\"\\n\\t\\t\\t$li\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"eq\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"index\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"trigger\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'click'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\t\\n\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//这个函数过滤url，返回index\")]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"returnIndex\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"str\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parseInt\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\" str\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"split\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'?'\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"split\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'='\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//初始化触发\")]),t._v(\"\\n\\t\"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHistoryState\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\\t\"),a(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//前进后退按钮事件\")]),t._v(\"\\n\\twindow\"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"addEventListener\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token string\"}},[t._v('\"popstate\"')]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{attrs:{class:\"token function\"}},[t._v(\"setHistoryState\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"                          \\n    \"),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \\n\")])])])}],!1,null,null,null);e.options.__file=\"ajax与history实现无刷新修改url.md\";s.default=e.exports}}]);","extractedComments":[]}